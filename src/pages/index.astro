---
import Layout from "../layouts/Layout.astro";
import ThemeToggle from "@/components/ThemeToggle.astro";
import ArrowRight from "~icons/lucide/arrow-right";
---

<Layout>
	<div
		class="mx-auto flex h-20 max-w-[90rem] items-center justify-end gap-2 pr-[max(env(safe-area-inset-right),1.5rem)] pl-[max(env(safe-area-inset-left),1.5rem)] text-sm md:max-w-[90vw]"
	>
		<a class="flex items-center text-base hover:opacity-75 ltr:mr-auto rtl:ml-auto" href="/">
			<span class="font-medium uppercase" data-lang="sitename">科技立委葛如鈞．寶博士</span>
		</a>
		<ThemeToggle />
	</div>
	<div class="relative mx-auto aspect-square w-full max-w-[768px] sm:aspect-video xl:mt-20">
		<spline-viewer
			className="absolute inset-0"
			loading-anim-type="spinner-big-light"
			url="https://prod.spline.design/PykwbOV-m1ak0rZ0/scene.splinecode"></spline-viewer>

		<div class="absolute inset-0 flex items-center justify-center">
			<div class="text-center text-xl font-semibold tracking-wider uppercase sm:text-3xl lg:text-4xl">The Plurality is here.</div>
		</div>
	</div>
	<div class="flex flex-col items-center justify-center gap-4 text-center">
		<p class="text-xl font-medium md:text-2xl" data-lang="title">先進國會・共識未來</p>

		<a
			href="/zh-TW"
			class="flex w-max items-center justify-center gap-2 rounded-full bg-blue-50 px-4 py-2.5 text-blue-500 transition-colors hover:bg-blue-100 dark:bg-white/10 dark:text-white/75 dark:hover:bg-white/20 dark:hover:text-white"
			data-lang="button"
		>
			<span data-lang="buttonText"> 進入「科技立委葛如鈞．寶博士」宇宙 </span>
			<ArrowRight strokeWidth={1} />
		</a>
	</div>
</Layout>
<script>
	const browserLang = navigator.language;
	const lang = browserLang.startsWith("zh") ? "zh-TW" : "en";
	const locale = {
		"zh-TW": {
			sitename: "科技立委葛如鈞．寶博士",
			title: "先進國會・共識未來",
			buttonText: `進入「科技立委葛如鈞．寶博士」宇宙`,
		},
		en: {
			sitename: "Ju Chun Ko",
			title: "Emerging Congress, Converging Consensus",
			buttonText: `Enter Dr.Ju-Chun KO Universe`,
		},
	};

	document.querySelector(`[data-lang="button"]`)?.setAttribute("href", `/${lang}`);
	document.querySelectorAll("[data-lang]").forEach((el) => {
		const key = el.getAttribute("data-lang");
		if (key && locale[lang][key]) {
			el.textContent = locale[lang][key];
		}
	});
</script>
