---
const { post, lang, category } = Astro.props;
---

<a
	href={`/${lang}/${category}/${post.id.replace(/^.+?\//, "").replace(/\.(md|mdx)$/, "")}`}
	class="border-accent hover:border-primary/25 group group relative flex flex-col items-start overflow-hidden rounded-xl border-2 p-4 pr-24 shadow-black/5 transition-all hover:-translate-y-1 hover:shadow-lg dark:hover:translate-0"
>
	<h2 class="text-lg font-semibold">{post.data.title}</h2>
	<p class="text-sm tracking-tight text-gray-500">
		{
			post.data.date.toLocaleDateString(lang, {
				year: "numeric",
				month: "long",
				day: "numeric",
			})
		}
	</p>
	<div
		class="absolute right-0 bottom-0 flex size-24 items-end justify-end pr-4 drop-shadow-lg drop-shadow-black/10"
		style={{
			mask: `linear-gradient(to bottom, #000 90%, rgba(0,0,0,.25) 100%)`,
		}}
	>
		<div
			class="dark:group-hover:bg-bg-white/10 flex h-32 w-16 translate-y-16 rotate-6 items-start justify-center rounded-xl bg-gray-50 pt-3 text-4xl transition-all group-hover:translate-y-14 group-hover:rotate-0 group-hover:bg-gray-100 dark:bg-white/5"
		>
			{post.data.emoji}
		</div>
	</div>
</a>
