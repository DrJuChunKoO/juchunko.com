---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import { getImagePath } from "astro-opengraph-images";

export interface Props {
	title?: string;
	description?: string;
	image?: string;
	url?: string;
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const { title = t("site.title"), description = t("home.description"), image = "/favicon.png", url = Astro.url.href } = Astro.props;
---

<title>{title}</title>
<meta name="description" content={description} />
<link rel="canonical" href={url} />
<meta name="keywords" content="立法委員, 科技立委, 葛如鈞, 寶博士, 人工智慧, 法案, 政治" />

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content={url} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={getImagePath({ url: Astro.url, site: Astro.site })} />
<meta property="og:site_name" content={t("site.title")} />

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content={url} />
<meta property="twitter:title" content={title} />
<meta property="twitter:description" content={description} />
<meta property="twitter:image" content={getImagePath({ url: Astro.url, site: Astro.site })} />
